<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Start Menu</title>
    <!-- Tailwind Offline CSS, Local Copy (In case of CDN failures) -->
    <link rel="stylesheet" href="css/all-tailwind-classes-full-min.css">
	<script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI&display=swap" rel="stylesheet">
    <style>
        /* CSS relevant from index.html, adapted for iframe */
        :root {
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            --backdrop-blur: blur(15px);
            /* Light Theme */
            --start-menu-bg: rgba(255, 255, 255, 0.85);
            --start-menu-border: rgba(0, 0, 0, 0.1);
            --start-menu-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
            --start-menu-text: #212529;
            --start-menu-subtle-text: #6c757d;
            --start-menu-item-hover-bg: rgba(0, 0, 0, 0.08);
            --start-menu-search-bg: rgba(0, 0, 0, 0.05);
            --start-menu-search-text: #000;
            --start-menu-search-placeholder: rgba(0, 0, 0, 0.6);
            --start-menu-footer-border: rgba(0, 0, 0, 0.1);

            /* Variabel baru untuk efek Liquid Glass */
            --c-glass: #f0f0f0;
            --c-light: #ffffff;
            --c-dark: #000000;
            --glass-reflex-dark: 1;
            --glass-reflex-light: 1;
            --saturation: 150%;
        }

        body.dark {
            /* Dark Theme */
            --start-menu-bg: rgba(30, 30, 30, 0.75);
            --start-menu-border: rgba(255, 255, 255, 0.1);
            --start-menu-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            --start-menu-text: white;
            --start-menu-subtle-text: rgba(255, 255, 255, 0.7);
            --start-menu-item-hover-bg: rgba(255, 255, 255, 0.1);
            --start-menu-search-bg: rgba(255, 255, 255, 0.1);
            --start-menu-search-text: white;
            --start-menu-search-placeholder: rgba(255, 255, 255, 0.6);
            --start-menu-footer-border: rgba(255, 255, 255, 0.1);
            
            /* Variabel baru untuk efek Liquid Glass - Mode Gelap */
            --c-glass: #2b2b2b;
            --glass-reflex-dark: 2;
            --glass-reflex-light: 0.3;
        }

        html, body { 
            margin: 0; 
            padding: 0; 
            background-color: transparent; 
            font-family: var(--font-family); 
            color: var(--start-menu-text);
            overflow: hidden;
            user-select: none;
        }

        #start-menu-container {
            width: 100%; height: 100%;
            border-radius: 12px; border: 1px solid var(--start-menu-border);
            background-color: var(--start-menu-bg); backdrop-filter: var(--backdrop-blur) saturate(180%);
            -webkit-backdrop-filter: var(--backdrop-blur) saturate(180%);
            box-shadow: var(--start-menu-shadow); display: flex; flex-direction: column;
            padding: 0.75rem; gap: 0.75rem;
            transition: background-color 0.3s, box-shadow 0.3s; /* Added transition */
        }
        
        /* --- Fancy Mode (Liquid Glass) Style --- */
        body.fancy-mode #start-menu-container {
            background-color: color-mix(in srgb, var(--c-glass) 15%, transparent);
            backdrop-filter: blur(8px) url(#liquid-glass-filter) saturate(var(--saturation));
            -webkit-backdrop-filter: blur(8px) url(#liquid-glass-filter) saturate(var(--saturation));
            box-shadow: 
                inset 0 0 0 1px color-mix(in srgb, var(--c-light) calc(var(--glass-reflex-light) * 10%), transparent),
                inset 1.8px 3px 0px -2px color-mix(in srgb, var(--c-light) calc(var(--glass-reflex-light) * 90%), transparent),
                inset -2px -2px 0px -2px color-mix(in srgb, var(--c-light) calc(var(--glass-reflex-light) * 80%), transparent),
                inset -3px -8px 1px -6px color-mix(in srgb, var(--c-light) calc(var(--glass-reflex-light) * 60%), transparent),
                inset -0.3px -1px 4px 0px color-mix(in srgb, var(--c-dark) calc(var(--glass-reflex-dark) * 12%), transparent),
                inset -1.5px 2.5px 0px -2px color-mix(in srgb, var(--c-dark) calc(var(--glass-reflex-dark) * 20%), transparent),
                inset 0px 3px 4px -2px color-mix(in srgb, var(--c-dark) calc(var(--glass-reflex-dark) * 20%), transparent),
                inset 2px -6.5px 1px -4px color-mix(in srgb, var(--c-dark) calc(var(--glass-reflex-dark) * 10%), transparent),
                0px 1px 5px 0px color-mix(in srgb, var(--c-dark) calc(var(--glass-reflex-dark) * 10%), transparent),
                0px 6px 16px 0px color-mix(in srgb, var(--c-dark) calc(var(--glass-reflex-dark) * 8%), transparent);
            border-color: transparent; /* Hide default border */
        }
        
        .search-container { position: relative; flex-shrink: 0; }
        .search-container input { width: 100%; padding: 0.75rem 1rem 0.75rem 2.5rem; border-radius: 20px; border: none; background-color: var(--start-menu-search-bg); color: var(--start-menu-search-text); font-size: 1rem; outline: none; }
        .search-container input::placeholder { color: var(--start-menu-search-placeholder); }
        .search-container .search-icon { position: absolute; left: 0.8rem; top: 50%; transform: translateY(-50%); color: var(--start-menu-search-placeholder); height: 1.25rem; width: 1.25rem; }
        .apps-section, .recommended-section { display: flex; flex-direction: column; gap: 0.5rem; min-height: 0; }
        .section-header { display: flex; justify-content: space-between; align-items: center; padding: 0 0.5rem; }
        .section-header h3 { font-size: 1.1rem; font-weight: 600; }
        .all-apps-btn { font-size: 0.8rem; padding: 0.25rem 0.5rem; border-radius: 8px; background-color: var(--start-menu-search-bg); transition: background-color 0.2s ease; border: none; color: var(--start-menu-text); }
        .all-apps-btn:hover { background-color: var(--start-menu-item-hover-bg); }
        .pinned-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 0.5rem; padding: 0.5rem; }
        .app-item { display: flex; flex-direction: column; align-items: center; gap: 0.5rem; padding: 0.5rem; border-radius: 8px; cursor: pointer; transition: background-color 0.2s ease; text-align: center; }
        .app-item:hover { background-color: var(--start-menu-item-hover-bg); }
        .app-item .app-icon { width: 48px; height: 48px; border-radius: 8px; display: flex; align-items: center; justify-content: center; }
        .app-item .app-icon img { width: 32px; height: 32px; }
        .app-item span { font-size: 0.75rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 100%; }
        .recommended-section { flex-grow: 1; }
        .recommended-list { overflow-y: auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 0.25rem; padding-right: 8px; }
        .recommended-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; border-radius: 8px; cursor: pointer; transition: background-color 0.2s ease; }
        .recommended-item:hover { background-color: var(--start-menu-item-hover-bg); }
        .recommended-icon { width: 36px; height: 36px; flex-shrink: 0; border-radius: 8px; }
        .recommended-info { display: flex; flex-direction: column; line-height: 1.2; }
        .recommended-info span:last-child { font-size: 0.8rem; color: var(--start-menu-subtle-text); }
        .footer-bar { display: flex; justify-content: space-between; align-items: center; margin: 0 -0.75rem -0.75rem -0.75rem; padding: 0.5rem 1.25rem; border-top: 1px solid var(--start-menu-footer-border); flex-shrink: 0; }
        .user-profile { display: flex; align-items: center; gap: 0.75rem; padding: 0.25rem; border-radius: 8px; cursor: pointer; transition: background-color 0.2s ease; }
        .user-profile:hover { background-color: var(--start-menu-item-hover-bg); }
        .user-avatar { width: 32px; height: 32px; border-radius: 50%; }
        .power-button { padding: 0.5rem; border-radius: 8px; cursor: pointer; transition: background-color 0.2s ease; }
        .power-button:hover { background-color: var(--start-menu-item-hover-bg); }
        .power-button svg { width: 24px; height: 24px; }
    </style>
</head>
<body>
    <!-- Filter SVG for Liquid Glass effect -->
    <div style="position: absolute; width: 0; height: 0; z-index: -1;">
        <svg>
          <filter id="liquid-glass-filter" primitiveUnits="objectBoundingBox">
            <feImage result="map" width="100%" height="100%" x="0" y="0" preserveAspectRatio="none" href="img/svg-filter.jpg"/>       
			<feGaussianBlur in="SourceGraphic" stdDeviation="0.00" result="blur" />
			<feDisplacementMap id="disp" in="blur" in2="map" scale="0.4" xChannelSelector="R" yChannelSelector="G">
			</feDisplacementMap>
          </filter>
        </svg>
    </div>

    <div id="start-menu-container">
        <div class="search-container"><svg xmlns="http://www.w3.org/2000/svg" class="search-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" /></svg><input type="text" placeholder="Type here to search"></div>
        <div class="apps-section">
            <div class="section-header"><h3>Pinned</h3><button class="all-apps-btn">All apps &gt;</button></div>
            <div class="pinned-grid">
                <div class="app-item"><div class="app-icon bg-blue-500"><img src="https://syahdafahreza.my.id/images/desktopicons/msedge2019.png" alt="Edge"/></div><span>Edge</span></div>
                <div id="start-menu-music-player" class="app-item"><div class="app-icon bg-pink-500"><img src="https://img.icons8.com/fluency/48/000000/apple-music.png" alt="Music"/></div><span>Music</span></div>
                <div class="app-item"><div class="app-icon bg-green-700"><img src="https://img.icons8.com/fluency/48/ms-excel.png" alt="Excel"/></div><span>Excel</span></div>
                <div class="app-item"><div class="app-icon bg-red-500"><img src="img/winstoreapp-dark.png" alt="Store"/></div><span>Store</span></div>
                <div class="app-item"><div class="app-icon bg-blue-700"><img src="https://img.icons8.com/color/48/ms-word.png" alt="Word"/></div><span>Word</span></div>
                <div class="app-item"><div class="app-icon bg-gray-700"><img src="https://img.icons8.com/fluency/48/github.png" alt="Github"/></div><span>Github</span></div>
                <div class="app-item"><div class="app-icon bg-purple-600"><img src="https://img.icons8.com/fluency/48/visual-studio-code-2019.png" alt="VS Code"/></div><span>VS Code</span></div>
            </div>
        </div>
        <div class="recommended-section">
            <div class="section-header"><h3>Recommended</h3></div>
            <div class="recommended-list">
                <div class="recommended-item"><div class="recommended-icon bg-orange-500 flex items-center justify-center"><img src="https://img.icons8.com/color/48/ms-powerpoint.png" class="w-6 h-6" alt="PowerPoint"/></div><div class="recommended-info"><span class="font-semibold">Quarterly Review.pptx</span><span>17m ago</span></div></div>
                <div class="recommended-item"><div class="recommended-icon bg-blue-700 flex items-center justify-center"><img src="https://img.icons8.com/color/48/ms-word.png" class="w-6 h-6" alt="Word"/></div><div class="recommended-info"><span class="font-semibold">Project Proposal.docx</span><span>Recently added</span></div></div>
                <div class="recommended-item"><div class="recommended-icon bg-sky-500 flex items-center justify-center"><img src="https://img.icons8.com/fluency/48/image-file.png" class="w-6 h-6" alt="Image"/></div><div class="recommended-info"><span class="font-semibold">Brand_Logo_Final.png</span><span>Yesterday</span></div></div>
                <div class="recommended-item"><div class="recommended-icon bg-green-700 flex items-center justify-center"><img src="https://img.icons8.com/fluency/48/ms-excel.png" class="w-6 h-6" alt="Excel"/></div><div class="recommended-info"><span class="font-semibold">Budget_2025.xlsx</span><span>2h ago</span></div></div>
            </div>
        </div>
        <div class="footer-bar">
            <div class="user-profile"><img src="https://placehold.co/40x40/555/fff?text=U" alt="User" class="user-avatar"><span>Umarkov</span></div>
            <div class="power-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42A7.963 7.963 0 0120 12h2c0-2.34-1.01-4.43-2.6-5.98l-1.57-1.85zM5.59 5.59L4.17 4.17C2.59 5.76 1.58 7.84 1.58 10h2c0-1.85.73-3.54 1.93-4.8l1.08-1.61zM12 23c4.97 0 9-4.03 9-9h-2c0 3.86-3.14 7-7 7s-7-3.14-7-7H3c0 4.97 4.03 9 9 9z" /></svg></div>
        </div>
    </div>
<script>
    const musicPlayerIcon = document.getElementById('start-menu-music-player');

    // Send message to parent to open an app
    musicPlayerIcon.addEventListener('click', () => {
        parent.postMessage({ action: 'open-app-from-start-menu', appName: 'music' }, '*');
    });

    // Listen for messages from the parent
    window.addEventListener('message', (event) => {
        const { action, isDark, value } = event.data;
        switch(action) {
            case 'theme-change':
                document.body.classList.toggle('dark', isDark);
                break;
            case 'toggle-fancy-mode':
                document.body.classList.toggle('fancy-mode', value);
                break;
        }
    });
</script>
</body>
</html>